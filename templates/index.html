<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="au theme template">
    <meta name="author" content="Hau Nguyen">
    <meta name="keywords" content="au theme template">

    <!-- Title Page-->
    <title>Dashboard</title>

    <!-- Fontfaces CSS (use CDN where possible or url_for for local files) -->
<link href="{{ url_for('static', filename='css/font-face.css') }}" rel="stylesheet" media="all">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" media="all">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet" media="all">
<link href="{{ url_for('static', filename='vendor/mdi-font/css/material-design-iconic-font.min.css') }}" rel="stylesheet" media="all">

<!-- Bootstrap CSS (use CDN) -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" media="all">

<!-- Vendor CSS (use url_for for local files) -->
<link href="{{ url_for('static', filename='vendor/animsition/animsition.min.css') }}" rel="stylesheet" media="all">
<link href="{{ url_for('static', filename='vendor/bootstrap-progressbar/bootstrap-progressbar-3.3.4.min.css') }}" rel="stylesheet" media="all">
<link href="{{ url_for('static', filename='vendor/wow/animate.css') }}" rel="stylesheet" media="all">
<link href="{{ url_for('static', filename='vendor/css-hamburgers/hamburgers.min.css') }}" rel="stylesheet" media="all">
<link href="{{ url_for('static', filename='vendor/slick/slick.css') }}" rel="stylesheet" media="all">
<link href="{{ url_for('static', filename='vendor/select2/select2.min.css') }}" rel="stylesheet" media="all">
<link href="{{ url_for('static', filename='vendor/perfect-scrollbar/perfect-scrollbar.css') }}" rel="stylesheet" media="all">

<!-- Main CSS (use url_for for local file) -->
<link href="{{ url_for('static', filename='css/theme.css') }}" rel="stylesheet" media="all">


    <style>
        .hide-during-export {
            display: none !important;
        }
    </style>
    


</head>

<body class="animsition">
    <div class="page-wrapper">


        <!-- MENU SIDEBAR-->
        <aside class="menu-sidebar d-none d-lg-block">
            <div class="logo">
                <a href="#">
                    <img src="{{ url_for('static', filename='images/icon/logo.png') }}" alt="Equity Edge" />
                </a>
            </div>
            <div class="menu-sidebar__content js-scrollbar1">
                <div class="account2">
                    <div class="image img-cir img-120">
                        <img src="{{ url_for('static', filename='images/icon/avatar-01.png') }}" alt="John Doe" />

                    </div>
                    <h4 class="name">Welcome Sonal Jose</h4>
                </div>
                <nav class="navbar-sidebar">
                    <ul class="list-unstyled navbar__list">
                        <li class="active has-sub">
                            <a class="js-arrow" href="#overview">
                                <i class="fas fa-tachometer-alt"></i>Overview</a>
                        </li>
                        <li>
                            <a href="#chart">
                                <i class="fas fa-chart-bar"></i>Charts</a>
                        </li>
                        <li>
                            <a href="#table">
                                <i class="fas fa-table"></i>Stocks Details</a>
                        </li>
                        <li class="has-sub">
                            <a class="js-arrow" href="#">
                                <i class="fas fa-copy"></i>Account</a>
                            <ul class="list-unstyled navbar__sub-list js-sub-list">
                                <li>
                                    <a href="{{url_for('register')}}">New Register</a>
                                </li>
                                <li>
                                    <a href="{{url_for('changepwd')}}">Change Password</a>

                                </li>
                            </ul>
                        </li>
                    </ul>
                </nav>
            </div>
        </aside>
        <!-- END MENU SIDEBAR-->

        <!-- PAGE CONTAINER-->
        <div class="page-container">
            <!-- HEADER DESKTOP-->
            <header class="header-desktop">
                <div class="section__content section__content--p30">
                    <div class="container-fluid">
                        <div class="header-wrap">
                            <form class="form-header" action="">
                                <input class="au-input au-input--xl" type="text" name="search" placeholder="Search " />
                                <button class="au-btn--submit" type="submit">
                                    <i class="zmdi zmdi-search"></i>
                                </button>
                            </form>
                            <div class="header-button">
                                <div class="noti-wrap">
                                    <div class="noti__item js-item-menu">
    <i class="zmdi zmdi-chart"></i> <!-- Stock chart icon -->
    <span class="quantity">2</span>
    <div class="mess-dropdown js-dropdown">
        <div class="mess__title">
            <p>You have 2 new stock insights</p> <!-- Updated title -->
        </div>
        <div class="mess__item">
            <div class="image img-cir img-40">
                <i class="zmdi zmdi-trending-up" style="font-size: 22px;"></i> <!-- Use a built-in "trending up" icon -->
            </div>
            <div class="content">
                <h6>Market Tip</h6> <!-- Stock-related message -->
                <p>Buy low, sell high!</p> <!-- Stock-related quote -->
            </div>
        </div>
        <div class="mess__item">
            <div class="image img-cir img-40">
                <i class="zmdi zmdi-balance" style="font-size: 22px;"></i> <!-- Use a built-in "balance" icon -->
            </div>
            <div class="content">
                <h6>Investment Wisdom</h6> <!-- Stock-related message -->
                <p>Time in the market beats timing the market.</p> <!-- Another stock-related quote -->
            </div>
        </div>
    </div>
</div>

                                    <div class="noti__item js-item-menu">
    <i class="zmdi zmdi-email"></i>
    <span class="quantity">1</span>
    <div class="email-dropdown js-dropdown">
        <div class="email__title">
            <p>You have 1 New Update</p> <!-- Updated title -->
        </div>
        <div class="email__item">
            <div class="image img-cir img-40">
                <i class="zmdi zmdi-money-box" style="font-size: 24px;"></i> <!-- Use a stock/money related icon -->
            </div>
            <div class="content">
                <p>New stock recommendation: Buy AAPL</p> <!-- Stock-related email content -->
                <span>Market Analyst, Today</span>
            </div>
        </div>
    </div>
</div>

                                    <div class="noti__item js-item-menu">
    <i class="zmdi zmdi-notifications"></i>
    <span class="quantity">1</span>
    <div class="notifi-dropdown js-dropdown">
        <div class="notifi__title">
            <p>You have 1 Notification</p> <!-- Updated title -->
        </div>
        <div class="notifi__item">
            <div class="bg-c1 img-cir img-40">
                <i class="zmdi zmdi-trending-up"></i> <!-- Use a stock/market-related icon -->
            </div>
            <div class="content">
                <p>Stock Alert: TSLA price up by 5%</p> <!-- Stock-related notification content -->
                <span class="date">Aug 12, 2024 06:50</span>
            </div>
        </div>
    </div>
</div>

                                </div>
                                <div class="account-wrap">
                                    <div class="account-item clearfix js-item-menu">
                                        <div class="image">
                                            <img src="{{ url_for('static', filename='images/icon/avatar-01.png') }}" alt="Michelle Moreno" />

                                        </div>
                                        <div class="content">
                                            <a class="js-acc-btn" href="#">Sonal Jose</a>
                                        </div>
                                        <div class="account-dropdown js-dropdown">
                                            <div class="info clearfix">
                                                <div class="image">
                                                    <a href="#">
                                                        <img src="{{ url_for('static', filename='images/icon/avatar-01.png') }}" alt="Michelle Moreno" />

                                                    </a>
                                                </div>
                                                <div class="content">
                                                    <h5 class="name">
                                                        <a href="#">Sonal Jose</a>
                                                    </h5>
                                                    <span class="email">sonal.jose@neueda.com</span>
                                                </div>
                                            </div>
                                            <div class="account-dropdown__footer">
                                                <a href="#">
                                                    <i class="zmdi zmdi-power"></i>Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
            <!-- HEADER DESKTOP-->

            <!-- MAIN CONTENT-->
            <div class="main-content" id="overview">
    <div class="section__content section__content--p30">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <div class="overview-wrap">
                        <h2 class="title-1">overview</h2>
                        <button type="button" class="au-btn au-btn-icon au-btn--blue" data-toggle="modal" data-target="#addcashmodal" style="margin-left: auto;">
                            <i class="zmdi zmdi-plus"></i>Add Cash
                        </button>
                    </div>
                </div>
            </div>
            <div class="row m-t-25">
    <div class="col-sm-6 col-lg-3">
        <div class="overview-item overview-item--c1">
            <div class="overview__inner">
                <div class="overview-box clearfix">
                    <div class="icon">
                        <i class="zmdi zmdi-balance-wallet"></i>
                    </div>
                    <div class="text">
                        <h2>${{invested_amount+cash}}</h2>
                        <span>Total Net Worth</span>
                    </div>
                </div>
                <div class="overview-chart">
                    <canvas id="widgetChart1"></canvas>
                </div>
            </div>
        </div>
    </div>
     <div class="col-sm-6 col-lg-3">
        <div class="overview-item overview-item--c2">
            <div class="overview__inner">
                <div class="overview-box clearfix">
                    <div class="icon">
                        <i class="zmdi zmdi-money-box"></i>
                    </div>
                    <br>
                    <div class="text">
                        <h2>${{cash}}</h2>
                        <span>Total Cash</span>
                    </div>
                </div>
                <div class="overview-chart">
                    <canvas id="widgetChart2"></canvas>
                </div>
            </div>
        </div>
    </div>
    <div class="col-sm-6 col-lg-3">
        <div class="overview-item overview-item--c3">
            <div class="overview__inner">
                <div class="overview-box clearfix">
                    <div class="icon">
                        <i class="zmdi zmdi-trending-up"></i>
                    </div>
                    <div class="text">
                        <h2>${{invested_amount}}</h2>
                        <span>Invested Amount</span>
                    </div>
                </div>
                <div class="overview-chart">
                    <canvas id="widgetChart3"></canvas>
                </div>
            </div>
        </div>
    </div>
    <div class="col-sm-6 col-lg-3">
        <div class="overview-item overview-item--c4">
            <div class="overview__inner">
                <div class="overview-box clearfix">
                    <div class="icon">
                        <i class="zmdi zmdi-view-list"></i>
                    </div>
                    <div class="text">
                        <h2>{{stocks}}</h2>
                        <span>No. of Distinct Stocks</span>
                    </div>
                </div>
                <div class="overview-chart">
                    <canvas id="widgetChart4"></canvas>
                </div>
            </div>
        </div>
    </div>
</div>

                        </div>
                    <!-- Enclose both charts in a single row div -->
                    <div class="overview-wrap" id="charts">
                                    <h2 class="title-1">Charts</h2>
                                </div>

    <div class="row m-t-25" style="display: flex; gap: 20px;">

        <!-- Bar Chart for Realized vs Unrealized Profit -->
<div class="col-lg-6" style="flex: 1;">
    <div class="au-card chart-percent-card" style="height: 325px; padding: 10px; box-sizing: border-box;">
        <div class="au-card-inner" style="padding: 0; box-sizing: border-box;">
            <h3 class="title-2 tm-b-5 mt-2" style="margin-bottom: 10px;">Realized vs Unrealized Profit</h3>
            <div class="chart-container" style="height: calc(100% - 30px); width: 100%;">
                <canvas id="customBarChart"
                        data-labels="Realized Profit, Unrealized Profit"
                        data-values="{{ realized_profit }}, {{ unrealized_profit }}"
                        data-type="bar"></canvas>
            </div>
        </div>
    </div>
</div>

<!-- Pie Chart for Percentage Distribution in Cash -->
<div class="col-lg-6" style="flex: 1;">
    <div class="au-card chart-percent-card" style="height: 325px; padding: 10px; box-sizing: border-box;">
        <div class="au-card-inner" style="padding: 0; box-sizing: border-box;">
            <h3 class="title-2 tm-b-5 mt-2" style="margin-bottom: 10px;">Percentage Distribution in Cash</h3>
            <div class="chart-container" style="height: calc(100% - 30px); width: 100%;">
                <canvas id="customPieChart"
                        data-labels="{% for label in pie_labels %}{{ label }}{% if not loop.last %}, {% endif %}{% endfor %}"
                        data-values="{% for value in pie_values %}{{ value }}{% if not loop.last %}, {% endif %}{% endfor %}"
                        data-type="pie"></canvas>
            </div>
        </div>
    </div>
</div>

    </div>

                        <div class="row" id="table">
							<div class="col-lg-12">
								<div class="card">
									<div class="card-header">
										<h4>Your Stock Details</h4>
									</div>
									<div class="card-body">
										<div class="default-tab">
											<nav>
												<div class="nav nav-tabs" id="nav-tab" role="tablist">
													<a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab" aria-controls="nav-home"
													 aria-selected="true">Holdings</a>
													<a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab" aria-controls="nav-profile"
													 aria-selected="false">Transactions</a>
													<a class="nav-item nav-link" id="nav-contact-tab" data-toggle="tab" href="#nav-contact" role="tab" aria-controls="nav-contact"
													 aria-selected="false">Watchlist</a>
												</div>
											</nav>
											<div class="tab-content pl-3 pt-2" id="nav-tabContent">
												<div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
													<div class="row">
    <div class="col-md-12">
        <!-- DATA TABLE -->

        <div class="table-data__tool">
            <div class="table-data__tool-left">
                <h3 class="title-5 m-b-35 mt-2">Holdings</h3>
                </div>
            <div class="table-data__tool-right">
                <button class="au-btn au-btn-icon au-btn--green au-btn--small" data-toggle="modal" data-target="#modaltab1">
                    <i class="zmdi zmdi-plus"></i>add item</button>

                    <button id="exportButton1" class="au-btn au-btn-icon au au-btn--small" style="background-color: #555555; color: #fff;">Export to PDF</button>

            </div>
        </div>
        <div class="table-responsive table-responsive-data2">
            
                <table class="table table-data2" id="table1">
                <thead>
                    <tr>
                        <th>Ticker</th>
                        <th>Quantity</th>
                        <th>Price Purchased</th>
                        <th>Current Price</th>
                        <th>Profit</th>

                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    {% for holding in holdings %}
<tr class="tr-shadow">
                            <td>{{holding.ticker}}</td>
                            <td>{{holding.quantity}}</td>
                            <td>{{holding.buyPrice}}</td>
                            <td>{{holding.currentPrice}}</td>
                            <td>{{holding.profit}}</td>

                            <td>
                                <div class="table-data-feature">
                                    <button class="item" data-placement="top" title="Sell" data-toggle="modal" data-target="#deltab1">
                                        <i class="zmdi zmdi-money"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
{% endfor %}
                </tbody>
            </table>
        </div>
        <!-- END DATA TABLE -->
    </div>
</div>

												</div>
												<div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
													<div class="row">
    <div class="col-md-12">
        <!-- Transactions Table -->
        <h3 class="title-5 m-b-35 mt-2">Transactions</h3>
        <div class="table-responsive table-responsive-data2">
            <table class="table table-data2 table-bordered">
                <thead>
                    <tr>
                        <th>Ticker</th>
                        <th>Quantity</th>
                        <th>Action Type</th>
                        <th>Price</th>
                        <th>Date</th>
                    </tr>
                </thead>
                <tbody>
                    {% for transaction in transactions %}
<tr class="tr-shadow">
                        <td>{{transaction.ticker}}</td>
                        <td>{{transaction.quantity}}</td>
                        <td>{{transaction.type}}</td>
                        <td>${{transaction.price}}</td>
                        <td>{{transaction.date}}</td>
                    </tr>
                    <tr class="spacer"></tr>
{% endfor %}
                </tbody>
            </table>
        </div>
        <!-- END DATA TABLE -->
    </div>
</div>

												</div>
												<div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">
													<div class="row">
    <!-- Short-Term Watchlist -->
    <div class="col-md-6">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h3 class="title-5">Short-Term Watchlist</h3>
            <button class="au-btn au-btn-icon au-btn--green au-btn--small" data-toggle="modal" data-target="#modaltab3">
                <i class="zmdi zmdi-plus"></i>add item
            </button>
        </div>
        <div class="table-responsive table-responsive-data2">
            <table class="table table-data2">
                <thead>
                    <tr>
                        <th>Ticker</th>
                        <th>Current Price</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    {% for watchshort in watchlistshort %}
<tr class="tr-shadow">
                        <td>{{watchshort.ticker}}</td>
                        <td>${{watchshort.price}}</td>
                        <td>
                            <div class="table-data-feature">
                                <button class="item" data-toggle="modal" data-target="#deltab3" title="Delete">
                                    <i class="zmdi zmdi-delete"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tr class="spacer"></tr>
{% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <!-- Long-Term Watchlist -->
    <div class="col-md-6">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h3 class="title-5">Long-Term Watchlist</h3>
            <button class="au-btn au-btn-icon au-btn--green au-btn--small" data-toggle="modal" data-target="#modaltab4">
                <i class="zmdi zmdi-plus"></i>add item
            </button>
        </div>
        <div class="table-responsive table-responsive-data2">
            <table class="table table-data2">
                <thead>
                    <tr>
                        <th>Ticker</th>
                        <th>Current Price</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    {% for watchlong in watchlistlong %}
<tr class="tr-shadow">
                        <td>{{watchlong.ticker}}</td>
                        <td>${{watchlong.price}}</td>
                        <td>
                            <div class="table-data-feature">
                                <button class="item" data-toggle="modal" data-target="#deltab4" title="Delete">
                                    <i class="zmdi zmdi-delete"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tr class="spacer"></tr>
{% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>


												</div>
											</div>

										</div>
									</div>
								</div>
							</div>
                    </div>
                </div>
            </div>
            <!-- END MAIN CONTENT-->
                <!-- modal table1 -->
			<div class="modal fade" id="modaltab1" tabindex="-1" role="dialog" aria-labelledby="scrollmodalLabel" aria-hidden="true">
				<div class="modal-dialog modal-lg" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="scrollmodalLabel">Add new Holding</h5>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
						<div class="modal-body">
    <div class="col-lg-12">
        <div class="card">
            <div class="card-header">Stock Portfolio Entry</div>
            <div class="card-body card-block">
                <form action="{{ url_for('addholding') }}" method="post" class="">

                    <!-- Ticker Search Field -->
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-addon">
                                <i class="fa fa-search"></i>
                            </div>
                            <input type="text" id="ticker" name="ticker" placeholder="Search Ticker" class="form-control" list="tickers">
                            <datalist id="tickers">
                                <!-- Example Options, populate from a CSV file dynamically -->
                                <option value="AAPL">Apple Inc.</option>
                                <option value="MSFT">Microsoft Corp.</option>
                                <option value="TSLA">Tesla Inc.</option>
                                <option value="AMZN">Amazon.com Inc.</option>
                                <option value="GOOGL">Alphabet Inc.</option>
                            </datalist>
                        </div>
                    </div>

                    <!-- Price Purchased Field (Currency) -->
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-addon">
                                <i class="fa fa-dollar"></i>
                            </div>
                            <input type="number" id="buy_price" name="buy_price" placeholder="Buy Price" class="form-control" step="0.01" min="0">
                        </div>
                    </div>

                    <!-- Quantity Field (Whole Number) -->
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-addon">
                                <i class="fa fa-sort-numeric-asc"></i>
                            </div>
                            <input type="number" id="quantity" name="quantity" placeholder="Quantity" class="form-control" min="1">
                        </div>
                    </div>



                    <!-- Date Field -->
<div class="form-group">
    <div class="input-group">
        <div class="input-group-addon">
            <i class="fa fa-calendar"></i>
        </div>
        <input type="date" id="date" name="date" placeholder="Date" class="form-control">
    </div>
</div>


                    <div class="form-actions form-group">
                        <button type="submit" class="btn btn-success">Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

						<div class="modal-footer">
							<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
						</div>
					</div>
				</div>
			</div>
			<!-- end modal table1 -->
                <!-- modal table3 -->
			<div class="modal fade" id="modaltab3" tabindex="-1" role="dialog" aria-labelledby="scrollmodalLabel2" aria-hidden="true">
				<div class="modal-dialog modal-lg" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="scrollmodalLabel2">Add a new Watchlist</h5>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
						<div class="modal-body">
    <div class="col-lg-12">
        <div class="card">
            <div class="card-header">Stock Information</div>
            <div class="card-body card-block">
                <form action="{{ url_for('addwatchshort') }}" method="post" class="">

                    <!-- Ticker Field -->
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-addon">
                                <i class="fa fa-search"></i>
                            </div>
                            <input type="text" id="ticker" name="ticker" placeholder="Ticker" class="form-control">
                        </div>
                    </div>

                    <div class="form-actions form-group">
                        <button type="submit" class="btn btn-success">Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

						<div class="modal-footer">
							<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
						</div>
					</div>
				</div>
			</div>
			<!-- end modal table3 -->
            <!-- modal table4 -->
			<div class="modal fade" id="modaltab4" tabindex="-1" role="dialog" aria-labelledby="scrollmodalLabel2" aria-hidden="true">
				<div class="modal-dialog modal-lg" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="scrollmodalLabel2">Add a new Watchlist</h5>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
						<div class="modal-body">
    <div class="col-lg-12">
        <div class="card">
            <div class="card-header">Stock Information</div>
            <div class="card-body card-block">
                <form action="{{ url_for('addwatchlong') }}" method="post" class="">

                    <!-- Ticker Field -->
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-addon">
                                <i class="fa fa-search"></i>
                            </div>
                            <input type="text" id="ticker" name="ticker" placeholder="Ticker" class="form-control">
                        </div>
                    </div>

                    <div class="form-actions form-group">
                        <button type="submit" class="btn btn-success">Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

						<div class="modal-footer">
							<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
						</div>
					</div>
				</div>
			</div>
			<!-- end modal table4 -->

            <!-- modal table3 -->
			<div class="modal fade" id="addcashmodal" tabindex="-1" role="dialog" aria-labelledby="scrollmodalLabel2" aria-hidden="true">
				<div class="modal-dialog modal-lg" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="scrollmodalLabel2">Add a new Watchlist</h5>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
						<div class="modal-body">
    <div class="col-lg-12">
        <div class="card">
            <div class="card-header">Add Cash</div>
            <div class="card-body card-block">
                <form action="{{ url_for('addcash') }}" method="post" class="">

                    <!-- Cash Field -->
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-addon">
                                <i class="fa fa-dollar"></i>
                            </div>
                            <input type="number" id="added_cash" name="added_cash" placeholder="Enter Cash" class="form-control" step="0.01" min="0">
                        </div>
                    </div>

                    <div class="form-actions form-group">
                        <button type="submit" class="btn btn-success">Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

						<div class="modal-footer">
							<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
						</div>
					</div>
				</div>
			</div>
			<!-- end modal table3 -->
                <!-- modal deltable1 (now Sell Modal) -->
<div class="modal fade" id="deltab1" tabindex="-1" role="dialog" aria-labelledby="staticModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="staticModalLabel">Sell Stock</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form method="post" action="{{url_for('sellholding')}}">
                    <div class="form-group">
                        <label for="ticker">Ticker</label>
                        <input type="text" class="form-control" id="ticker" name="ticker" placeholder="Enter ticker" required>
                    </div>
                    <div class="form-group">
                        <label for="quantity">Quantity to Sell</label>
                        <input type="number" class="form-control" id="stockquantity" name="quantity" placeholder="Enter quantity" required>

                    </div>
                    <div class="form-group">
                        <label for="sell_price">Sell Price</label>
                        <input type="number" step="0.01" class="form-control" id="sell_price" name="sell_price" placeholder="Enter sell price" required>
                    </div>
                    <div class="form-group">
    <div class="input-group">
        <div class="input-group-addon">
            <i class="fa fa-calendar"></i>
        </div>
        <input type="date" id="date" name="date" placeholder="Date" class="form-control">
    </div>
</div>
                    <div class="form-actions form-group">
                        <button type="submit" class="btn btn-danger">Sell</button>
                    </div>

                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>

            </div>
        </div>
    </div>
</div>
<!-- end modal deltable1 -->

                <!-- modal deltable3 -->
			<div class="modal fade" id="deltab3" tabindex="-1" role="dialog" aria-labelledby="staticModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="staticModalLabel">Delete Short Watchlist</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form method="post" action="{{url_for('delwatchshort')}}">
                    <div class="form-group">
                        <label for="ticker">Ticker</label>
                        <input type="text" class="form-control" id="ticker" name="ticker" placeholder="Enter ticker" required>
                    </div>

                    <div class="form-actions form-group">
                        <button type="submit" class="btn btn-danger">Delete</button>
                    </div>

                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>

            </div>
        </div>
    </div>
</div>
			<!-- end modal deltable3 -->

            <!-- modal deltable4 -->
			<div class="modal fade" id="deltab4" tabindex="-1" role="dialog" aria-labelledby="staticModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="staticModalLabel">Delete Long Watchlist</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form method="post" action="{{url_for('delwatchlong')}}">
                    <div class="form-group">
                        <label for="ticker">Ticker</label>
                        <input type="text" class="form-control" id="ticker" name="ticker" placeholder="Enter ticker" required>
                    </div>

                    <div class="form-actions form-group">
                        <button type="submit" class="btn btn-danger">Delete</button>
                    </div>

                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>

            </div>
        </div>
    </div>
</div>
			<!-- end modal deltable4 -->
            <!-- END PAGE CONTAINER-->
        </div>

    </div>
    </div>

    <!-- jQuery JS (using online CDN) -->
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>

<!-- Bootstrap JS (using online CDN) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

<!-- Vendor JS (load local files using url_for) -->
<script src="{{ url_for('static', filename='vendor/slick/slick.min.js') }}"></script>
<script src="{{ url_for('static', filename='vendor/wow/wow.min.js') }}"></script>
<script src="{{ url_for('static', filename='vendor/animsition/animsition.min.js') }}"></script>
<script src="{{ url_for('static', filename='vendor/bootstrap-progressbar/bootstrap-progressbar.min.js') }}"></script>
<script src="{{ url_for('static', filename='vendor/counter-up/jquery.waypoints.min.js') }}"></script>
<script src="{{ url_for('static', filename='vendor/counter-up/jquery.counterup.min.js') }}"></script>
<script src="{{ url_for('static', filename='vendor/circle-progress/circle-progress.min.js') }}"></script>
<script src="{{ url_for('static', filename='vendor/perfect-scrollbar/perfect-scrollbar.js') }}"></script>
<script src="{{ url_for('static', filename='vendor/chartjs/Chart.bundle.min.js') }}"></script>
<script src="{{ url_for('static', filename='vendor/select2/select2.min.js') }}"></script>

<!-- Custom JS file -->
<script src="{{ url_for('static', filename='js/charts.js') }}"></script>

<!-- Main JS file -->
<script src="{{ url_for('static', filename='js/main.js') }}"></script>

<script>
        document.querySelectorAll('.menu-sidebar__content a').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();

                const targetId = this.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);

                targetElement.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            });
        });
        function exportTableToPDF(buttonId,tableId) {
            document.getElementById(buttonId).addEventListener("click", function() {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();
                const table = document.getElementById(tableId);

                const buttons = table.querySelectorAll('.table-data-feature');
                buttons.forEach(button => button.classList.add('hide-during-export'));

                html2canvas(table).then(canvas => {
                    const imgData = canvas.toDataURL('image/png');
                    const imgWidth = 210;
                    const pageHeight = 297;
                    const imgHeight = canvas.height * imgWidth / canvas.width;
                    let heightLeft = imgHeight;
                    let position = 0;

                    doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
                    heightLeft -= pageHeight;

                    while (heightLeft >= 0) {
                        position = heightLeft - imgHeight;
                        doc.addPage();
                        doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
                        heightLeft -= pageHeight;
                    }

                    doc.save(`${tableId}.pdf`);
                });
            });
        }

        exportTableToPDF("exportButton1","table1");
        // exportTableToPDF("exportButton2","table2");
        // exportTableToPDF("exportButton3","table3");
    </script>

</body>

</html>
<!-- end document-->
